{"ast":null,"code":"import axios from 'axios';\n\nrequire('dotenv').config();\n\nexport default (async (req, res) => {\n  if (req.method === 'GET') {\n    const apiKey = process.env.GOOGLE_APIKEY || '';\n    const address = '577047';\n    /** DOCUMENTATION\n     *  https://developers.google.com/maps/documentation/geocoding/overview\n     */\n\n    const geocodeURI = `https://maps.googleapis.com/maps/api/geocode/json?address=${address} Singapore&key=${apiKey}`;\n\n    try {\n      const response = await axios.get(geocodeURI);\n\n      if (response.status === 200) {\n        if (response.data.status === 'OK') {\n          console.log(response.data);\n          res.statusCode = 200;\n          res.setHeader('Content-Type', 'application/json');\n          res.end(JSON.stringify(response.data));\n        } else {\n          console.log(`Error! ${response.data.status}`);\n        }\n      } else {\n        console.log('There is an Error!\\nReponse Code: ' + response.status.toString());\n      }\n    } catch (err) {\n      console.log('There is an error! Please try again.\\n' + err.toString());\n    }\n  } else {\n    throw new Error('Methods other than GET not allowed!');\n  }\n});","map":{"version":3,"sources":["/Users/jerald/Desktop/nearby-food-web/src/pages/api/googleConsole.ts"],"names":["axios","require","config","req","res","method","apiKey","process","env","GOOGLE_APIKEY","address","geocodeURI","response","get","status","data","console","log","statusCode","setHeader","end","JSON","stringify","toString","err","Error"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;;AAEAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,gBAAe,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAClE,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,UAAMC,MAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,aAAZ,IAA6B,EAApD;AACA,UAAMC,OAAO,GAAG,QAAhB;AAEA;AACJ;AACA;;AACI,UAAMC,UAAU,GAAI,6DAA4DD,OAAQ,kBAAiBJ,MAAO,EAAhH;;AAEA,QAAI;AACF,YAAMM,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAUF,UAAV,CAAvB;;AACA,UAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,YAAIF,QAAQ,CAACG,IAAT,CAAcD,MAAd,KAAyB,IAA7B,EAAmC;AACjCE,UAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACG,IAArB;AACAX,UAAAA,GAAG,CAACc,UAAJ,GAAiB,GAAjB;AACAd,UAAAA,GAAG,CAACe,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAf,UAAAA,GAAG,CAACgB,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAeV,QAAQ,CAACG,IAAxB,CAAR;AACD,SALD,MAKO;AACLC,UAAAA,OAAO,CAACC,GAAR,CAAa,UAASL,QAAQ,CAACG,IAAT,CAAcD,MAAO,EAA3C;AACD;AACF,OATD,MASO;AACLE,QAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCL,QAAQ,CAACE,MAAT,CAAgBS,QAAhB,EAAnD;AACD;AACF,KAdD,CAcE,OAAOC,GAAP,EAAY;AACZR,MAAAA,OAAO,CAACC,GAAR,CAAY,2CAA2CO,GAAG,CAACD,QAAJ,EAAvD;AACD;AACF,GA1BD,MA0BO;AACL,UAAM,IAAIE,KAAJ,CAAU,qCAAV,CAAN;AACD;AACF,CA9BD","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next';\nimport axios from 'axios';\n\nrequire('dotenv').config();\n\nexport default async (req: NextApiRequest, res: NextApiResponse) => {\n  if (req.method === 'GET') {\n    const apiKey: string = process.env.GOOGLE_APIKEY || '';\n    const address = '577047';\n\n    /** DOCUMENTATION\n     *  https://developers.google.com/maps/documentation/geocoding/overview\n     */\n    const geocodeURI = `https://maps.googleapis.com/maps/api/geocode/json?address=${address} Singapore&key=${apiKey}`;\n\n    try {\n      const response = await axios.get(geocodeURI);\n      if (response.status === 200) {\n        if (response.data.status === 'OK') {\n          console.log(response.data);\n          res.statusCode = 200;\n          res.setHeader('Content-Type', 'application/json');\n          res.end(JSON.stringify(response.data));\n        } else {\n          console.log(`Error! ${response.data.status}`);\n        }\n      } else {\n        console.log('There is an Error!\\nReponse Code: ' + response.status.toString());\n      }\n    } catch (err) {\n      console.log('There is an error! Please try again.\\n' + err.toString());\n    }\n  } else {\n    throw new Error('Methods other than GET not allowed!');\n  }\n};\n"]},"metadata":{},"sourceType":"module"}